# üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ Lumi

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** –°–º–µ—à–∞–Ω–Ω–∞—è (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)

---

## üéØ –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–ø–µ—Ä–µ—Ö–æ–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏**: —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º:

1. **Lumi Beauty** (–Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç) - —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫ –±—å—é—Ç–∏-–º–∞—Å—Ç–µ—Ä–∞–º ‚úÖ **–ê–ö–¢–ò–í–ù–´–ô**
2. **Paintball/Lasertag –±–æ—Ç** (—Å—Ç–∞—Ä—ã–π –ø—Ä–æ–µ–∫—Ç) - —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä ‚ö†Ô∏è **LEGACY**

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
Lumi/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ main_master.py      ‚úÖ –ù–æ–≤—ã–π: Entry point –¥–ª—è –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ main_client.py      ‚úÖ –ù–æ–≤—ã–π: Entry point –¥–ª—è –∫–ª–∏–µ–Ω—Ç-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ main.py             ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: Entry point –¥–ª—è paintball-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py           ‚úÖ –û–±—â–∏–π –∫–æ–Ω—Ñ–∏–≥
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py       ‚úÖ –ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (MasterAccount, Service, etc.)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py           ‚ö†Ô∏è  –°–º–µ—à–∞–Ω–Ω—ã–π –∫–æ–¥ (—Å—Ç–∞—Ä—ã–µ –∏ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ master.py       ‚úÖ –ù–æ–≤—ã–π: –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.py       ‚úÖ –ù–æ–≤—ã–π: –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–µ–Ω—Ç-–±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking.py      ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–≥—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculator.py   ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏–≥—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py         ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py        ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py     ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ roles/          ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: —Ä–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (owner, instructor, etc.)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ superadmin.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ owner.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ senior_instructor.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ instructor.py
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ quick_booking.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inline.py       ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è paintball
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/              ‚ö†Ô∏è  –°–º–µ—à–∞–Ω–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking_utils.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ debounce.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ performance.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rbac.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sun_info.py      ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π (–¥–ª—è paintball - —Ä–∞—Å—á–µ—Ç –∑–∞–∫–∞—Ç–∞)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validators.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ core/               ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ constants.py
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ templates/          ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π
‚îÇ       ‚îî‚îÄ‚îÄ messages.py
‚îÇ
‚îú‚îÄ‚îÄ run_master.py           ‚úÖ –ù–æ–≤—ã–π: –∑–∞–ø—É—Å–∫ –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ run_client.py           ‚úÖ –ù–æ–≤—ã–π: –∑–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ run.py                  ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–π: –∑–∞–ø—É—Å–∫ paintball-–±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ tests/                  ‚ö†Ô∏è  –°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è paintball
‚îÇ
‚îî‚îÄ‚îÄ docs/                   ‚ö†Ô∏è  –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è paintball-–ø—Ä–æ–µ–∫—Ç–∞
```

---

## ‚úÖ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç: Lumi Beauty

### –û–ø–∏—Å–∞–Ω–∏–µ
Telegram-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫ –±—å—é—Ç–∏-–º–∞—Å—Ç–µ—Ä–∞–º —Å –¥–≤—É–º—è –±–æ—Ç–∞–º–∏:
- **–ú–∞—Å—Ç–µ—Ä-–±–æ—Ç** - –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è, —É—Å–ª—É–≥, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è)
- **–ö–ª–∏–µ–Ω—Ç-–±–æ—Ç** - –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ø–æ–∏—Å–∫ –º–∞—Å—Ç–µ—Ä–æ–≤, –∑–∞–ø–∏—Å—å –Ω–∞ —É—Å–ª—É–≥–∏)

### –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–æ–≤—ã–µ)

| –ú–æ–¥–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `MasterAccount` | –ê–∫–∫–∞—É–Ω—Ç –º–∞—Å—Ç–µ—Ä–∞ (Telegram ID, –∏–º—è, –æ–ø–∏—Å–∞–Ω–∏–µ, –∞–≤–∞—Ç–∞—Ä) |
| `ServiceCategory` | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥ (–º–∞–Ω–∏–∫—é—Ä, –ø–µ–¥–∏–∫—é—Ä, –∏ —Ç.–¥.) |
| `Service` | –£—Å–ª—É–≥–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, cooling period) |
| `WorkPeriod` | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –º–∞—Å—Ç–µ—Ä–∞ (–¥–Ω–∏ –Ω–µ–¥–µ–ª–∏, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã) |
| `User` | –ö–ª–∏–µ–Ω—Ç—ã |
| `UserMaster` | –°–≤—è–∑—å –∫–ª–∏–µ–Ω—Ç ‚Üî –º–∞—Å—Ç–µ—Ä |
| `Booking` | –ó–∞–ø–∏—Å–∏/–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

#### –ú–∞—Å—Ç–µ—Ä-–±–æ—Ç
- **Entry point:** `bot/main_master.py`
- **Handlers:** `bot/handlers/master.py`
- **–ó–∞–ø—É—Å–∫:** `python run_master.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–∞ (`/start`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (–∏–º—è, –æ–ø–∏—Å–∞–Ω–∏–µ)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞ –∏ deep link
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –°—á–µ—Ç—á–∏–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

#### –ö–ª–∏–µ–Ω—Ç-–±–æ—Ç
- **Entry point:** `bot/main_client.py`
- **Handlers:** `bot/handlers/client.py`
- **–ó–∞–ø—É—Å–∫:** `python run_client.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ Deep linking (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞ –ø–æ —Å—Å—ã–ª–∫–µ)
- ‚úÖ –°–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä–æ–≤
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏ —É—Å–ª—É–≥ –º–∞—Å—Ç–µ—Ä–∞
- ‚úÖ –ó–∞–ø–∏—Å—å –∫ –º–∞—Å—Ç–µ—Ä—É
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Python 3.10+**
- **python-telegram-bot 22.5**
- **SQLAlchemy 2.0.44**
- **SQLite** (–ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ PostgreSQL)
- **python-dotenv 1.0.0**

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
‚úÖ **–†–∞–±–æ—á–∏–π MVP** - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## ‚ö†Ô∏è –°—Ç–∞—Ä—ã–π –ø—Ä–æ–µ–∫—Ç: Paintball/Lasertag

### –û–ø–∏—Å–∞–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä –¥–ª—è –ø–µ–π–Ω—Ç–±–æ–ª—å–Ω–æ–≥–æ/–ª–∞–∑–µ—Ä—Ç–∞–≥ –∫–ª—É–±–∞ —Å —Ä–æ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π:
- –°—É–ø–µ—Ä–∞–¥–º–∏–Ω ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—É–±–∞–º–∏, —Ç–∞—Ä–∏—Ñ–∞–º–∏
- –í–ª–∞–¥–µ–ª–µ—Ü –∫–ª—É–±–∞ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏, –ø–æ–ª—è–º–∏, –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º
- –°—Ç–∞—Ä—à–∏–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—É–¥–µ–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏
- –ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∏–≥—Ä

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
- **Entry point:** `bot/main.py`
- **Handlers:** `bot/handlers/booking.py`, `bot/handlers/calculator.py`, `bot/handlers/roles/`
- **–ó–∞–ø—É—Å–∫:** `python run.py`

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
‚ö†Ô∏è **LEGACY –ö–û–î** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ

---

## üîç –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –°–º–µ—à–∞–Ω–Ω–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –ø—Ä–æ–µ–∫—Ç–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞
- –°—Ç–∞—Ä—ã–π –∫–æ–¥ (paintball) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞, —á—Ç–æ –º–æ–∂–µ—Ç –∑–∞–ø—É—Ç–∞—Ç—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. ‚úÖ **–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥** (–µ—Å–ª–∏ paintball –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω):
   - `bot/main.py`
   - `bot/handlers/booking.py`
   - `bot/handlers/calculator.py`
   - `bot/handlers/user.py`
   - `bot/handlers/admin.py`
   - `bot/handlers/settings.py`
   - `bot/handlers/roles/` (–≤—Å—è –ø–∞–ø–∫–∞)
   - `bot/keyboards/inline.py` (–∏–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å)
   - `bot/utils/sun_info.py` (—Ä–∞—Å—á–µ—Ç –∑–∞–∫–∞—Ç–∞ –¥–ª—è paintball)
   - `bot/core/` –∏ `bot/templates/` (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ)

2. ‚úÖ **–û—á–∏—Å—Ç–∏—Ç—å `bot/database/db.py`**:
   - –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –º–æ–¥–µ–ª–µ–π (Location, Field, Club, etc.)
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π (MasterAccount, Service, etc.)

3. ‚úÖ **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**:
   - –£–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ paintball-–ø—Ä–æ–µ–∫—Ç –∏–∑ README.md
   - –û–±–Ω–æ–≤–∏—Ç—å PROJECT_STRUCTURE.md
   - –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –∞—Ä—Ö–∏–≤ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `bot/database/models.py` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (MasterAccount, Service, etc.)
- –ù–æ –≤ `bot/database/db.py` –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã–µ –º–æ–¥–µ–ª–∏ (Location, Field, Club), –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ models.py

**–ü—Ä–∏–º–µ—Ä:**
```python
# –í db.py –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:
def delete_location(session: Session, location_id: int) -> bool:
    loc = session.query(Location).filter(...)  # ‚ùå Location –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!

def delete_field(session: Session, field_id: int) -> bool:
    fld = session.query(Field).filter(...)  # ‚ùå Field –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ `db.py`

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
# bot/config.py
BOT_TOKEN = os.getenv('BOT_TOKEN')  # –ú–∞—Å—Ç–µ—Ä-–±–æ—Ç
CLIENT_BOT_TOKEN = os.getenv('CLIENT_BOT_TOKEN')  # –ö–ª–∏–µ–Ω—Ç-–±–æ—Ç
```

‚úÖ **–•–æ—Ä–æ—à–æ** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –ø–∞–ø–∫–µ `tests/` –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è paintball-–ø—Ä–æ–µ–∫—Ç–∞
- –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Lumi Beauty

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –∏–ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤
2. –ù–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Lumi Beauty:
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
   - Integration —Ç–µ—Å—Ç—ã –¥–ª—è handlers
   - E2E —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `README.md` –æ–ø–∏—Å—ã–≤–∞–µ—Ç Lumi Beauty ‚úÖ
- `ARCHITECTURE.md` –æ–ø–∏—Å—ã–≤–∞–µ—Ç Lumi Beauty ‚úÖ
- `PROJECT_STRUCTURE.md` –æ–ø–∏—Å—ã–≤–∞–µ—Ç paintball-–ø—Ä–æ–µ–∫—Ç ‚ùå
- `docs/` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è paintball-–ø—Ä–æ–µ–∫—Ç–∞ ‚ùå

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –û–±–Ω–æ–≤–∏—Ç—å `PROJECT_STRUCTURE.md` –ø–æ–¥ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/archive/` –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è Lumi Beauty

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –§–∞–∑–∞ 1: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞
- [ ] –£–¥–∞–ª–∏—Ç—å `bot/main.py`
- [ ] –£–¥–∞–ª–∏—Ç—å `bot/handlers/booking.py`
- [ ] –£–¥–∞–ª–∏—Ç—å `bot/handlers/calculator.py`
- [ ] –£–¥–∞–ª–∏—Ç—å `bot/handlers/user.py`
- [ ] –£–¥–∞–ª–∏—Ç—å `bot/handlers/admin.py`
- [ ] –£–¥–∞–ª–∏—Ç—å `bot/handlers/settings.py`
- [ ] –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É `bot/handlers/roles/`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—á–∏—Å—Ç–∏—Ç—å `bot/keyboards/inline.py`
- [ ] –£–¥–∞–ª–∏—Ç—å `bot/utils/sun_info.py`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `bot/core/` –∏ `bot/templates/` - —É–¥–∞–ª–∏—Ç—å –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

### –§–∞–∑–∞ 2: –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –º–æ–¥–µ–ª–µ–π –∏–∑ `bot/database/db.py`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –≤ `db.py`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏

### –§–∞–∑–∞ 3: –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤
- [ ] –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Lumi Beauty

### –§–∞–∑–∞ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `PROJECT_STRUCTURE.md`
- [ ] –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è Lumi Beauty

### –§–∞–∑–∞ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `run_master.py` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `run_client.py` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã (–ø–æ—Å–ª–µ –∏—Ö –Ω–∞–ø–∏—Å–∞–Ω–∏—è)

---

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (Lumi Beauty)

### –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞

1. **–ú–∞—Å—Ç–µ—Ä-–±–æ—Ç**
   ```
   run_master.py ‚Üí bot/main_master.py ‚Üí bot/handlers/master.py
   ```

2. **–ö–ª–∏–µ–Ω—Ç-–±–æ—Ç**
   ```
   run_client.py ‚Üí bot/main_client.py ‚Üí bot/handlers/client.py
   ```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–∞
```
/start ‚Üí start_master() ‚Üí create_master_account() ‚Üí MasterAccount
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞ –∫–ª–∏–µ–Ω—Ç–æ–º
```
Deep link ‚Üí start_client() ‚Üí add_user_master_link() ‚Üí UserMaster
```

#### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```
book_master() ‚Üí create_booking() ‚Üí Booking
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
main_master.py / main_client.py
    ‚îú‚îÄ‚îÄ handlers/master.py / handlers/client.py
    ‚îÇ   ‚îú‚îÄ‚îÄ database/db.py
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database/models.py
    ‚îÇ   ‚îî‚îÄ‚îÄ config.py
    ‚îî‚îÄ‚îÄ config.py
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –†–∞–∑–º–µ—Ä –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª–æ–≤ | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ) |
|-----------|--------|----------------------------|
| –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (Lumi Beauty) | ~10 | ~2000 |
| –°—Ç–∞—Ä—ã–π –ø—Ä–æ–µ–∫—Ç (Paintball) | ~30 | ~5000 |
| –û–±—â–∏–µ —Ñ–∞–π–ª—ã | ~5 | ~500 |
| **–í—Å–µ–≥–æ** | **~45** | **~7500** |

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| Python | 3.10+ | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ |
| python-telegram-bot | 22.5 | Telegram Bot API |
| SQLAlchemy | 2.0.44 | ORM |
| SQLite | - | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| python-dotenv | 1.0.0 | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
4. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ `db.py`

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞)
1. –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–≤—ã–±–æ—Ä –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏)
2. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä—É –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö
3. –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ä–µ–º–µ–Ω–∏ —Å —É—á–µ—Ç–æ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
4. –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (3+ –º–µ—Å—è—Ü–∞)
1. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL –¥–ª—è production
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Payments
3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤
4. –§–æ—Ç–æ —É—Å–ª—É–≥
5. –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏
6. –ú—É–ª—å—Ç–∏-–º–∞—Å—Ç–µ—Ä —Ä–µ–∂–∏–º (–º–∏–∫—Ä–æ—Å–∞–ª–æ–Ω—ã)

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ **–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (Lumi Beauty) —Ä–∞–±–æ—Ç–∞–µ—Ç** –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚ö†Ô∏è **–°—Ç–∞—Ä—ã–π –∫–æ–¥ (Paintball) –æ—Å—Ç–∞–ª—Å—è** –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏ —Å–æ–∑–¥–∞–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—É
- ‚ö†Ô∏è **–°–º–µ—à–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. –î–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –ú–µ—Ä—Ç–≤—ã–π –∫–æ–¥ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ
3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
1. **–í—ã—Å–æ–∫–∏–π:** –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞
2. **–í—ã—Å–æ–∫–∏–π:** –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. **–°—Ä–µ–¥–Ω–∏–π:** –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã
4. **–°—Ä–µ–¥–Ω–∏–π:** –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω:** 2025  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –†–µ—à–∏—Ç—å —Å—É–¥—å–±—É —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ (—É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å)

