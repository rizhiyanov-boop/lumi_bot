# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–î–∞—Ç–∞:** 2025

---

## üéâ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º (–º–∞—Å—Ç–µ—Ä-–±–æ—Ç)

#### –§—É–Ω–∫—Ü–∏–∏:
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è** —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏** - –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ —Ä–∞–±–æ—Ç—ã:**
  - –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ (–∫–Ω–æ–ø–∫–∏ –∫–∞–∂–¥—ã–π —á–∞—Å 09:00-20:00)
  - –†—É—á–Ω–æ–π –≤–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ (—Ñ–æ—Ä–º–∞—Ç –ß–ß:–ú–ú)
  - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è (30 –º–∏–Ω, 1—á, 2—á –∏ —Ç.–¥.)
- **–£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤** - –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤ –≤ –æ–¥–∏–Ω –¥–µ–Ω—å
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –Ω–∞—á–∞–ª–æ < –∫–æ–Ω—Ü–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–µ—Ä–∏–æ–¥–æ–≤** –≤ –æ–¥–∏–Ω –¥–µ–Ω—å (–±–µ–∑ –∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)

#### –§–∞–π–ª—ã:
- `bot/handlers/master.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- `bot/utils/schedule_utils.py` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
- `bot/main_master.py` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

---

### 2. ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–ª–∏–µ–Ω—Ç-–±–æ—Ç)

#### –§—É–Ω–∫—Ü–∏–∏:
- **–í—ã–±–æ—Ä —É—Å–ª—É–≥–∏** - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—Å–ª—É–≥ –º–∞—Å—Ç–µ—Ä–∞
- **–í—ã–±–æ—Ä –¥–∞—Ç—ã:**
  - –ö–Ω–æ–ø–∫–∏ —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏ –Ω–∞ 5 –Ω–µ–¥–µ–ª—å –≤–ø–µ—Ä–µ–¥
  - –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–∞—Ç—ã —Å —Å–≤–æ–±–æ–¥–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏
  - –ü–µ—Ä–≤—ã–µ 2 –Ω–µ–¥–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å –¥–Ω—è–º–∏ –Ω–µ–¥–µ–ª–∏
- **–í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏:**
  - –¢–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞
  - –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è –∑–∞–Ω—è—Ç—ã–µ –≤—Ä–µ–º–µ–Ω–∞
  - –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è `cooling_period_mins` —É—Å–ª—É–≥–∏
  - –ú–∏–Ω–∏–º—É–º —á–µ—Ä–µ–∑ 1 —á–∞—Å –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
  - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
  - –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
  - –ú–∞–∫—Å–∏–º—É–º 500 —Å–∏–º–≤–æ–ª–æ–≤
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:**
  - –ü–æ–∫–∞–∑ –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π –∑–∞–ø–∏—Å–∏
  - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î

#### –í–∞–ª–∏–¥–∞—Ü–∏—è:
- ‚úÖ –ù–µ–ª—å–∑—è –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ –ø—Ä–æ—à–ª–æ–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π (–≤—Ä–µ–º—è –∑–∞–Ω—è—Ç–æ)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (1 —á–∞—Å)
- ‚úÖ –£—á–µ—Ç cooling period —É—Å–ª—É–≥–∏
- ‚úÖ –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –∑–∞ —Å–µ—Å—Å–∏—é (–ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è - –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å)

#### –§–∞–π–ª—ã:
- `bot/handlers/client.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `bot/utils/schedule_utils.py` - —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- `bot/main_client.py` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω ConversationHandler –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### ConversationHandler –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–º–∞—Å—Ç–µ—Ä-–±–æ—Ç):
- **–°–æ—Å—Ç–æ—è–Ω–∏—è:** `WAITING_SCHEDULE_START`, `WAITING_SCHEDULE_END`, `WAITING_SCHEDULE_START_MANUAL`, `WAITING_SCHEDULE_END_MANUAL`
- **Entry points:** `schedule_add_period_*`, `schedule_start_*`, `schedule_end_*`
- **Fallbacks:** –≤–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### ConversationHandler –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–ª–∏–µ–Ω—Ç-–±–æ—Ç):
- **–°–æ—Å—Ç–æ—è–Ω–∏—è:** `WAITING_BOOKING_DATE`, `WAITING_BOOKING_TIME`, `WAITING_BOOKING_COMMENT`
- **Entry points:** `select_service_*`
- **Fallbacks:** –æ—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –£—Ç–∏–ª–∏—Ç—ã (`bot/utils/schedule_utils.py`):
- `parse_time()` - –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ —Å—Ç—Ä–æ–∫–∏
- `format_time()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å—Ç—Ä–æ–∫—É
- `check_time_overlap()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
- `validate_schedule_period()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–∏–æ–¥–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- `get_available_time_slots()` - —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å —É—á–µ—Ç–æ–º:
  - –†–∞—Å–ø–∏—Å–∞–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞
  - –°—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
  - Cooling period —É—Å–ª—É–≥–∏
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- `has_available_slots_on_date()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –Ω–∞ –¥–∞—Ç—É

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

### –î–ª—è –º–∞—Å—Ç–µ—Ä–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è):
1. –ú–∞—Å—Ç–µ—Ä ‚Üí "üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"
2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
3. –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (–ü–Ω-–í—Å)
4. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è:
   - –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–∏–æ–¥ ‚Üí –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞ ‚Üí –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
   - –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–∏–æ–¥ ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–∞ (–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ):
1. –ö–ª–∏–µ–Ω—Ç ‚Üí –í—ã–±–æ—Ä –º–∞—Å—Ç–µ—Ä–∞ ‚Üí "üìã –ó–∞–ø–∏—Å–∞—Ç—å—Å—è"
2. –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏
3. –í—ã–±–æ—Ä –¥–∞—Ç—ã (–∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö)
4. –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ (–∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤)
5. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
6. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏

---

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ

- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ ConversationHandler –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:
1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –º–∞—Å—Ç–µ—Ä–æ–º
2. –ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–º
3. –í–∞–ª–∏–¥–∞—Ü–∏—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

