# ========================================
# Конфигурация для E2E тестирования с Telethon
# ========================================
# 
# ИНСТРУКЦИЯ:
# 1. Скопируйте этот файл в .env.test: cp env.test.example .env.test
# 2. Заполните реальными значениями
# 3. Для безопасности НЕ коммитьте .env.test в git (уже в .gitignore)
# 4. Используйте тестовые боты и тестовые API ключи
#
# ========================================

# ========================================
# Telegram API для Telethon (ОБЯЗАТЕЛЬНО)
# ========================================
# Получить на https://my.telegram.org
# 1. Войдите с вашим номером телефона
# 2. Перейдите в "API development tools"
# 3. Создайте приложение и получите api_id и api_hash
TELEGRAM_API_ID=123456
TELEGRAM_API_HASH=your_api_hash_here

# ========================================
# Тестовые Telegram боты (ОБЯЗАТЕЛЬНО)
# ========================================
# Создать через @BotFather в Telegram:
# 1. Откройте @BotFather
# 2. Создайте двух ботов:
#    - /newbot -> lumi_test_master_bot (для тестирования мастер-бота)
#    - /newbot -> lumi_test_client_bot (для тестирования клиент-бота)
# 3. Скопируйте токены сюда

# Токены тестовых ботов
TEST_MASTER_BOT_TOKEN=your_test_master_bot_token_here
TEST_CLIENT_BOT_TOKEN=your_test_client_bot_token_here

# Usernames тестовых ботов (без @)
TEST_MASTER_BOT_USERNAME=lumi_test_master_bot
TEST_CLIENT_BOT_USERNAME=lumi_test_client_bot

# ========================================
# База данных (ОБЯЗАТЕЛЬНО)
# ========================================
# Тестовая БД автоматически очищается перед каждым тестом
# Тестовые боты ДОЛЖНЫ использовать ту же БД!

# Тестовая БД для E2E тестов (автоматически очищается)
TEST_DATABASE_URL=sqlite:///test_database_e2e.db

# Основная БД (для тестовых ботов, должна совпадать с TEST_DATABASE_URL)
DATABASE_URL=sqlite:///test_database_e2e.db

# Альтернативные варианты:
# TEST_DATABASE_URL=sqlite:///:memory:  # БД в памяти (быстрее, но данные теряются)
# TEST_DATABASE_URL=sqlite:///tests/test_database_e2e.db  # В отдельной папке

# ========================================
# Основные токены ботов (для тестовых ботов)
# ========================================
# Можно использовать те же токены, что и TEST_MASTER_BOT_TOKEN / TEST_CLIENT_BOT_TOKEN
# Или использовать отдельные токены для тестовых ботов
BOT_TOKEN=your_test_master_bot_token_here
CLIENT_BOT_TOKEN=your_test_client_bot_token_here
CLIENT_BOT_USERNAME=lumi_test_client_bot

# ========================================
# Суперадмины (ОПЦИОНАЛЬНО)
# ========================================
# Telegram ID пользователей с правами суперадмина (через запятую)
# Можно узнать через @userinfobot в Telegram
# Суперадмины могут использовать админ-панель и имперсонацию
SUPER_ADMINS=123456789,987654321

# ========================================
# YooKassa (оплата премиума) (ОПЦИОНАЛЬНО)
# ========================================
# Для тестирования платежей можно использовать тестовые ключи
# Получить в личном кабинете ЮKassa: https://yookassa.ru/

# Shop ID (ID магазина)
YOOKASSA_SHOP_ID=1200992

# Секретный ключ
YOOKASSA_SECRET_KEY=your_yookassa_secret_key_here

# Режим тестирования (true для тестов, false для продакшена)
YOOKASSA_TEST_MODE=true

# ========================================
# Премиум подписка (ОПЦИОНАЛЬНО)
# ========================================
# Цена премиум подписки в рублях
PREMIUM_PRICE=299.00

# Длительность подписки в днях
PREMIUM_DURATION_DAYS=30

# ========================================
# OpenAI API (генерация описаний услуг) (ОПЦИОНАЛЬНО)
# ========================================
# Для тестирования генерации описаний услуг через ИИ
# Получить на https://platform.openai.com/api-keys
# Можно использовать тестовый ключ или реальный (будет списываться небольшое количество токенов)
OPENAI_API_KEY=your_openai_api_key_here

# ========================================
# Дополнительные настройки (ОПЦИОНАЛЬНО)
# ========================================

# Уровень логирования (DEBUG, INFO, WARNING, ERROR)
# LOG_LEVEL=INFO

# Таймаут для ожидания ответа от бота в тестах (в секундах)
# TEST_BOT_RESPONSE_TIMEOUT=5.0

# ========================================
# ПРИМЕЧАНИЯ
# ========================================
#
# 1. БЕЗОПАСНОСТЬ:
#    - НЕ коммитьте этот файл в git (уже в .gitignore)
#    - Используйте тестовые токены и ключи
#    - Не используйте production данные
#
# 2. ТЕСТОВЫЕ БОТЫ:
#    - Тестовые боты должны использовать ту же БД, что и тесты
#    - Запускайте тестовые боты с: python run_test_bots.py
#    - Или вручную установите: DATABASE_URL=sqlite:///test_database_e2e.db
#
# 3. ЗАПУСК ТЕСТОВ:
#    - pytest tests/e2e/telethon_e2e/ -v -m e2e_telethon
#    - Тесты автоматически используют тестовую БД
#    - БД автоматически очищается перед каждым тестом
#
# 4. ОТЛАДКА:
#    - После тестов можно просмотреть данные в тестовой БД
#    - Файл БД: test_database_e2e.db (в корне проекта)
#    - Можно использовать: sqlite3 test_database_e2e.db
#
# ========================================

