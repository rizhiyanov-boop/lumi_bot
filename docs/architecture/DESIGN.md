# –î–∏–∑–∞–π–Ω –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ–π–Ω—Ç–±–æ–ª—å–Ω—ã—Ö –∏–≥—Ä

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
1. **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–≥—Ä**
   - –í—ã–±–æ—Ä –ª–æ–∫–∞—Ü–∏–∏
   - –í—ã–±–æ—Ä –ø–ª–æ—â–∞–¥–∫–∏
   - –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
   - –£–∫–∞–∑–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤
   - –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–∫–æ–Ω

3. **–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –∞–¥–º–∏–Ω–∞–º –ø—Ä–∏ –Ω–æ–≤–æ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
   - –ü–æ–¥–ø–∏—Å–∫–∞/–æ—Ç–ø–∏—Å–∫–∞ –∞–¥–º–∏–Ω–æ–≤ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏**
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
   - –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   - (–ê–¥–º–∏–Ω) –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
   - (–ê–¥–º–∏–Ω) –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite)

#### –¢–∞–±–ª–∏—Ü—ã:

**locations** (–õ–æ–∫–∞—Ü–∏–∏)
- id (Primary Key)
- name (–Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏)
- address (–∞–¥—Ä–µ—Å)
- description (–æ–ø–∏—Å–∞–Ω–∏–µ)
- active (–∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ª–æ–∫–∞—Ü–∏—è)

**fields** (–ü–ª–æ—â–∞–¥–∫–∏)
- id (Primary Key)
- location_id (Foreign Key -> locations)
- name (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–æ—â–∞–¥–∫–∏)
- capacity (–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏–≥—Ä–æ–∫–æ–≤)
- price_per_hour (—Ü–µ–Ω–∞ –∑–∞ —á–∞—Å)
- active (–∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø–ª–æ—â–∞–¥–∫–∞)

**bookings** (–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
- id (Primary Key)
- field_id (Foreign Key -> fields)
- user_id (Telegram user ID)
- user_name (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- date (–¥–∞—Ç–∞ –∏–≥—Ä—ã)
- start_time (–≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞)
- end_time (–≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è)
- players_count (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤)
- total_price (–æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- status (—Å—Ç–∞—Ç—É—Å: pending, confirmed, cancelled)
- created_at (–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è)

**admins** (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã)
- id (Primary Key)
- user_id (Telegram user ID)
- username (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- notify (–ø–æ–ª—É—á–∞—Ç—å –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

**settings** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã)
- key (–∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- value (–∑–Ω–∞—á–µ–Ω–∏–µ)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- Python 3.10+
- python-telegram-bot (–¥–ª—è Telegram Bot API)
- SQLite (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- SQLAlchemy (ORM)
- APScheduler (–¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
painball/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ booking.py       # –õ–æ–≥–∏–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py        # –ú–æ–¥–µ–ª–∏ SQLAlchemy
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py            # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inline.py        # Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ notifications.py # –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ validators.py    # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ database.db             # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–ö–æ–º–∞–Ω–¥—ã:**
- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/book` - –ù–∞—á–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `/my_bookings` - –ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `/help` - –°–ø—Ä–∞–≤–∫–∞

**–ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç `/book`
2. –í—ã–±–∏—Ä–∞–µ—Ç –ª–æ–∫–∞—Ü–∏—é (inline –∫–Ω–æ–ø–∫–∏)
3. –í—ã–±–∏—Ä–∞–µ—Ç –ø–ª–æ—â–∞–¥–∫—É –≤ –ª–æ–∫–∞—Ü–∏–∏
4. –í—ã–±–∏—Ä–∞–µ—Ç –¥–∞—Ç—É (–∫–∞–ª–µ–Ω–¥–∞—Ä—å)
5. –í—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ (—Ç–æ–ª—å–∫–æ —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã)
6. –í—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (1-4 —á–∞—Å–∞)
7. –£–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤
8. –í–∏–¥–∏—Ç —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
9. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
10. –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

**–ö–æ–º–∞–Ω–¥—ã:**
- `/admin` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- `/all_bookings` - –í—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `/notify_on` - –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `/notify_off` - –í—ã–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `/add_location` - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é
- `/add_field` - –î–æ–±–∞–≤–∏—Ç—å –ø–ª–æ—â–∞–¥–∫—É

## –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã

```
–ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:
total_price = price_per_hour * duration_hours * (1 + discount_factor)

discount_factor –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤ (–±–æ–ª—å—à–µ –∏–≥—Ä–æ–∫–æ–≤ = —Å–∫–∏–¥–∫–∞)
- –î–Ω—è –Ω–µ–¥–µ–ª–∏ (–≤—ã—Ö–æ–¥–Ω—ã–µ –¥–æ—Ä–æ–∂–µ)
- –í—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫ (–≤–µ—á–µ—Ä –¥–æ—Ä–æ–∂–µ)
```

## –°–∏—Å—Ç–µ–º–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

- –†–∞–±–æ—á–∏–µ —á–∞—Å—ã: 09:00 - 21:00
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 1 —á–∞—Å
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 4 —á–∞—Å–∞
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å–ª–æ—Ç–∞–º–∏: 1 —á–∞—Å (–¥–ª—è —É–±–æ—Ä–∫–∏/–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏)

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤

–ü—Ä–∏ –Ω–æ–≤–æ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—Å–µ–º –∞–¥–º–∏–Ω–∞–º —Å `notify=True` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
üéØ –ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ!

–õ–æ–∫–∞—Ü–∏—è: [–Ω–∞–∑–≤–∞–Ω–∏–µ]
–ü–ª–æ—â–∞–¥–∫–∞: [–Ω–∞–∑–≤–∞–Ω–∏–µ]
–î–∞—Ç–∞: [–¥–∞—Ç–∞]
–í—Ä–µ–º—è: [–Ω–∞—á–∞–ª–æ] - [–∫–æ–Ω–µ—Ü]
–ò–≥—Ä–æ–∫–æ–≤: [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]
–°—Ç–æ–∏–º–æ—Å—Ç—å: [—Ü–µ–Ω–∞] ‚ÇΩ

–ö–ª–∏–µ–Ω—Ç: @username
```

